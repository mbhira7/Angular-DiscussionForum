{"ast":null,"code":"import { EventEmitter } from \"@angular/core\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../questions/questions.service\";\nexport class DeleteModalComponent {\n  constructor(_router, _questionService) {\n    this._router = _router;\n    this._questionService = _questionService;\n    // Emits an event to the parent component (userquestions.component) when a deletion is completed\n    this.deletionComplete = new EventEmitter();\n  }\n  //Calls the service method to delete a question by its ID\n  deleteQuestion(question) {\n    this._questionService.deleteQuestion(question.questionId).subscribe(response => {\n      if (response.success) {\n        // If deletion is successful, emit an event to notify the parent component about the completed deletion\n        this.deletionComplete.emit(question.questionId);\n        console.log(response.message);\n      }\n    }, error => {\n      console.error('Error deleting question:', error);\n    });\n  }\n}\nDeleteModalComponent.ɵfac = function DeleteModalComponent_Factory(t) {\n  return new (t || DeleteModalComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.QuestionService));\n};\nDeleteModalComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: DeleteModalComponent,\n  selectors: [[\"app-deleteModal-component\"]],\n  inputs: {\n    question: \"question\"\n  },\n  outputs: {\n    deletionComplete: \"deletionComplete\"\n  },\n  decls: 19,\n  vars: 3,\n  consts: [[\"tabindex\", \"-1\", \"aria-hidden\", \"true\", \"data-bs-backdrop\", \"false\", 1, \"modal\", \"fade\", 3, \"id\"], [1, \"modal-dialog\"], [1, \"modal-content\"], [1, \"modal-header\"], [\"id\", \"exampleModalLabel\", 1, \"modal-title\"], [\"type\", \"button\", \"data-bs-dismiss\", \"modal\", \"aria-label\", \"Close\", 1, \"py-0\", \"px-2\", \"exit-btn\"], [1, \"fa-solid\", \"fa-xmark\", \"fa-lg\"], [1, \"my-0\", \"mx-3\"], [1, \"modal-body\"], [1, \"fw-bolder\", \"my-3\", \"mx-0\"], [1, \"modal-footer\"], [\"data-bs-dismiss\", \"modal\", 1, \"btn\", \"btn-secondary\"], [\"type\", \"button\", 1, \"btn\", \"btn-danger\", 3, \"click\"]],\n  template: function DeleteModalComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"h4\", 4);\n      i0.ɵɵtext(5, \"Delete confirmation\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"button\", 5);\n      i0.ɵɵelement(7, \"i\", 6);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(8, \"hr\", 7);\n      i0.ɵɵelementStart(9, \"div\", 8)(10, \"h6\");\n      i0.ɵɵtext(11, \"Are you sure you want to delete the following post?\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"p\", 9);\n      i0.ɵɵtext(13);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(14, \"div\", 10)(15, \"a\", 11);\n      i0.ɵɵtext(16, \"Close\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"button\", 12);\n      i0.ɵɵlistener(\"click\", function DeleteModalComponent_Template_button_click_17_listener() {\n        return ctx.deleteQuestion(ctx.question);\n      });\n      i0.ɵɵtext(18, \"Delete\");\n      i0.ɵɵelementEnd()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"id\", \"modal-\" + ctx.question.questionId);\n      i0.ɵɵattribute(\"aria-labelledby\", \"modal-\" + ctx.question.questionId);\n      i0.ɵɵadvance(13);\n      i0.ɵɵtextInterpolate1(\"\\\"\", ctx.question.title, \"\\\"\");\n    }\n  },\n  styles: [\".modal-content[_ngcontent-%COMP%] {\\n        background: #2c374e;\\n        border-radius: 0;\\n    }\\n\\n    .modal-footer[_ngcontent-%COMP%], .modal-header[_ngcontent-%COMP%] {\\n        border: none;\\n    }\\n\\n    .exit-btn[_ngcontent-%COMP%] {\\n        border: none;\\n    }\\n\\n    button[_ngcontent-%COMP%] {\\n        outline: none;\\n    }\"]\n});","map":{"version":3,"mappings":"AAAA,SAAmCA,YAAY,QAAQ,eAAe;;;;AAUtE,OAAM,MAAOC,oBAAoB;EAM/BC,YAAoBC,OAAe,EAAUC,gBAAiC;IAA1D,YAAO,GAAPD,OAAO;IAAkB,qBAAgB,GAAhBC,gBAAgB;IAH7D;IACU,qBAAgB,GAAyB,IAAIJ,YAAY,EAAU;EAEK;EAElF;EACAK,cAAc,CAACC,QAAmB;IAC9B,IAAI,CAACF,gBAAgB,CAACC,cAAc,CAACC,QAAQ,CAACC,UAAU,CAAC,CACtDC,SAAS,CACPC,QAAQ,IAAI;MACX,IAAIA,QAAQ,CAACC,OAAO,EAAE;QACpB;QACA,IAAI,CAACC,gBAAgB,CAACC,IAAI,CAACN,QAAQ,CAACC,UAAU,CAAC;QAC/CM,OAAO,CAACC,GAAG,CAACL,QAAQ,CAACM,OAAO,CAAC;;IAEjC,CAAC,EACAC,KAAK,IAAI;MACRH,OAAO,CAACG,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;IAClD,CAAC,CACJ;EACL;;AAvBWf,oBAAoB;mBAApBA,oBAAoB;AAAA;AAApBA,oBAAoB;QAApBA,oBAAoB;EAAAgB;EAAAC;IAAAZ;EAAA;EAAAa;IAAAR;EAAA;EAAAS;EAAAC;EAAAC;EAAAC;IAAA;MCVjCC,8BAAgL;MAIjHA,mCAAmB;MAAAA,iBAAK;MACvEA,iCAA4F;MACxFA,uBAAuC;MAC3CA,iBAAS;MAEbA,wBAAwB;MACxBA,8BAAwB;MAChBA,oEAAmD;MAAAA,iBAAK;MAC5DA,6BAA+B;MAAAA,aAAsB;MAAAA,iBAAI;MAE7DA,gCAA0B;MAC+BA,sBAAK;MAAAA,iBAAI;MAC9DA,mCAAgF;MAAnCA;QAAA,OAASC,gCAAwB;MAAA,EAAC;MAACD,uBAAM;MAAAA,iBAAS;;;MAhBvFA,uDAAqC;MAAeA,qEAAuD;MAYpFA,gBAAsB;MAAtBA,qDAAsB","names":["EventEmitter","DeleteModalComponent","constructor","_router","_questionService","deleteQuestion","question","questionId","subscribe","response","success","deletionComplete","emit","console","log","message","error","selectors","inputs","outputs","decls","vars","consts","template","i0","ctx"],"sourceRoot":"","sources":["/Users/bhira/Desktop/Skole/5.semester/ITPE3200/DiscussionForum-Angular/DiscussionForum-Angular/ClientApp/src/app/shared/deleteModal.component.ts","/Users/bhira/Desktop/Skole/5.semester/ITPE3200/DiscussionForum-Angular/DiscussionForum-Angular/ClientApp/src/app/shared/deleteModal.component.html"],"sourcesContent":["import { Component, Input, Output, EventEmitter } from \"@angular/core\";\nimport { IQuestion } from \"../questions/question\"\nimport { Router } from \"@angular/router\"\nimport { QuestionService } from \"../questions/questions.service\"\n\n@Component({\n  selector: \"app-deleteModal-component\",\n  templateUrl: \"./deleteModal.component.html\",\n})\n\nexport class DeleteModalComponent  {\n  @Input() question!: IQuestion;\n\n  // Emits an event to the parent component (userquestions.component) when a deletion is completed\n  @Output() deletionComplete: EventEmitter<number> = new EventEmitter<number>();\n\n  constructor(private _router: Router, private _questionService: QuestionService) { }\n\n  //Calls the service method to delete a question by its ID\n  deleteQuestion(question: IQuestion): void {\n      this._questionService.deleteQuestion(question.questionId)\n        .subscribe(\n          (response) => {\n            if (response.success) {\n              // If deletion is successful, emit an event to notify the parent component about the completed deletion\n              this.deletionComplete.emit(question.questionId);\n              console.log(response.message);\n            }\n          },\n          (error) => {\n            console.error('Error deleting question:', error);\n          }\n      );\n  }\n}\n\n","<div class=\"modal fade\" [id]=\"'modal-' + question.questionId\" tabindex=\"-1\" [attr.aria-labelledby]=\"'modal-' + question.questionId\" aria-hidden=\"true\" data-bs-backdrop=\"false\">\n    <div class=\"modal-dialog\">\n        <div class=\"modal-content\">\n            <div class=\"modal-header\">\n                <h4 class=\"modal-title\" id=\"exampleModalLabel\">Delete confirmation</h4>\n                <button type=\"button\" class=\"py-0 px-2 exit-btn\" data-bs-dismiss=\"modal\" aria-label=\"Close\">\n                    <i class=\"fa-solid fa-xmark fa-lg\"></i>\n                </button>\n            </div>\n            <hr class=\"my-0 mx-3\" />\n            <div class=\"modal-body\">\n                <h6>Are you sure you want to delete the following post?</h6>\n                <p class=\"fw-bolder my-3 mx-0\">\"{{ question.title }}\"</p>\n            </div>\n            <div class=\"modal-footer\">\n                <a class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Close</a>\n                <button type=\"button\" class=\"btn btn-danger\" (click)=\"deleteQuestion(question)\">Delete</button>\n            </div>\n        </div>\n    </div>\n</div>\n\n\n<style>\n    .modal-content {\n        background: #2c374e;\n        border-radius: 0;\n    }\n\n    .modal-footer, .modal-header {\n        border: none;\n    }\n\n    .exit-btn {\n        border: none;\n    }\n\n    button {\n        outline: none;\n    }\n</style>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}