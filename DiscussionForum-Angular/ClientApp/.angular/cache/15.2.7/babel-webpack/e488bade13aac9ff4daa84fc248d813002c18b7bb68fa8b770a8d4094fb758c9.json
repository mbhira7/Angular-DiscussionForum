{"ast":null,"code":"import { Validators } from \"@angular/forms\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/common\";\nfunction QuestionReplyCardComponent_p_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 8);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r0.reply.content);\n  }\n}\nfunction QuestionReplyCardComponent_form_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"form\", 9);\n    i0.ɵɵlistener(\"ngSubmit\", function QuestionReplyCardComponent_form_11_Template_form_ngSubmit_0_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.onSubmit());\n    });\n    i0.ɵɵelementStart(1, \"div\", 10);\n    i0.ɵɵelement(2, \"textarea\", 11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 12)(4, \"button\", 13);\n    i0.ɵɵtext(5, \"Update\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"a\", 14);\n    i0.ɵɵlistener(\"click\", function QuestionReplyCardComponent_form_11_Template_a_click_6_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.toggleEdit(ctx_r4.reply));\n    });\n    i0.ɵɵtext(7, \"Cancel\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"formGroup\", ctx_r1.replyUpdateForm);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"disabled\", ctx_r1.replyUpdateForm.invalid);\n  }\n}\nexport class QuestionReplyCardComponent {\n  constructor(_formbuilder) {\n    this._formbuilder = _formbuilder;\n    // Initializing the reply form with form controls and validation\n    this.replyUpdateForm = _formbuilder.group({\n      content: [this.reply && this.reply.content ? this.reply.content : '', Validators.required]\n    });\n  }\n  // Toggles the 'edit' property for the clicked reply\n  toggleEdit(reply) {\n    reply.edit = !reply.edit;\n  }\n  onSubmit() {}\n  ngOnInit() {\n    if (reply.edit) {\n      this.replyUpdateForm.get('content')?.setValue(reply.content);\n    }\n  }\n}\nQuestionReplyCardComponent.ɵfac = function QuestionReplyCardComponent_Factory(t) {\n  return new (t || QuestionReplyCardComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder));\n};\nQuestionReplyCardComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: QuestionReplyCardComponent,\n  selectors: [[\"app-question-reply-card-component\"]],\n  inputs: {\n    reply: \"reply\"\n  },\n  decls: 12,\n  vars: 8,\n  consts: [[1, \"d-flex\", \"gap-4\", \"w-100\"], [1, \"user-img-container\"], [\"alt\", \"User image\", 1, \"img-fluid\", \"rounded-circle\", 3, \"src\"], [1, \"w-100\"], [1, \"fw-bolder\", \"m-0\"], [1, \"mb-2\"], [\"class\", \"m-0\", 4, \"ngIf\"], [3, \"formGroup\", \"ngSubmit\", 4, \"ngIf\"], [1, \"m-0\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"form-group\", \"mb-3\"], [\"rows\", \"3\", \"formControlName\", \"content\", 1, \"form-control\", \"py-1\", \"px-2\"], [1, \"d-flex\", \"gap-3\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", 3, \"disabled\"], [1, \"btn\", \"btn-secondary\", 3, \"click\"]],\n  template: function QuestionReplyCardComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\n      i0.ɵɵelement(2, \"img\", 2);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"div\", 3)(4, \"div\")(5, \"h6\", 4);\n      i0.ɵɵtext(6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"p\", 5);\n      i0.ɵɵtext(8);\n      i0.ɵɵpipe(9, \"date\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(10, QuestionReplyCardComponent_p_10_Template, 2, 1, \"p\", 6);\n      i0.ɵɵtemplate(11, QuestionReplyCardComponent_form_11_Template, 8, 2, \"form\", 7);\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"src\", ctx.reply.user.imageUrl, i0.ɵɵsanitizeUrl);\n      i0.ɵɵadvance(4);\n      i0.ɵɵtextInterpolate(ctx.reply.user.userName);\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(9, 5, ctx.reply.created, \"dd-MM-yyyy HH:mm\"));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", !ctx.reply.edit);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.reply.edit);\n    }\n  },\n  dependencies: [i2.NgIf, i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName, i2.DatePipe],\n  styles: [\".user-img-container[_ngcontent-%COMP%] {\\n        width: 50px;\\n    }\"]\n});","map":{"version":3,"mappings":"AACA,SAAiCA,UAAU,QAA0C,gBAAgB;;;;;;ICQ7FC,4BAAmC;IAAAA,YAAmB;IAAAA,iBAAI;;;;IAAvBA,eAAmB;IAAnBA,0CAAmB;;;;;;IAErDA,+BAA+E;IAAxBA;MAAAA;MAAA;MAAA,OAAYA,gCAAU;IAAA,EAAC;IAC3EA,+BAA6B;IACzBA,+BAAuF;IAC3FA,iBAAM;IACNA,+BAA0B;IAC6DA,sBAAM;IAAAA,iBAAS;IAClGA,6BAAyD;IAA5BA;MAAAA;MAAA;MAAA,OAASA,8CAAiB;IAAA,EAAC;IAACA,sBAAM;IAAAA,iBAAI;;;;IANpEA,kDAA6B;IAKNA,eAAoC;IAApCA,yDAAoC;;;ADP1E,OAAM,MAAOC,0BAA0B;EAGrCC,YAAoBC,YAAyB;IAAzB,iBAAY,GAAZA,YAAY;IAE9B;IACA,IAAI,CAACC,eAAe,GAAGD,YAAY,CAACE,KAAK,CAAC;MACxCC,OAAO,EAAE,CAAC,IAAI,CAACC,KAAK,IAAI,IAAI,CAACA,KAAK,CAACD,OAAO,GAAG,IAAI,CAACC,KAAK,CAACD,OAAO,GAAG,EAAE,EAAEP,UAAU,CAACS,QAAQ;KAC1F,CAAC;EACJ;EAIA;EACAC,UAAU,CAACF,KAAa;IACtBA,KAAK,CAACG,IAAI,GAAG,CAACH,KAAK,CAACG,IAAI;EAE1B;EAEAC,QAAQ,IAER;EAEAC,QAAQ;IACN,IAAIL,KAAK,CAACG,IAAI,EAAE;MACd,IAAI,CAACN,eAAe,CAACS,GAAG,CAAC,SAAS,CAAC,EAAEC,QAAQ,CAACP,KAAK,CAACD,OAAO,CAAC;;EAEhE;;AA3BWL,0BAA0B;mBAA1BA,0BAA0B;AAAA;AAA1BA,0BAA0B;QAA1BA,0BAA0B;EAAAc;EAAAC;IAAAT;EAAA;EAAAU;EAAAC;EAAAC;EAAAC;IAAA;MCTvCpB,8BAAgC;MAExBA,yBAAqF;MACzFA,iBAAM;MACNA,8BAAmB;MAEeA,YAAyB;MAAAA,iBAAK;MACxDA,4BAAgB;MAAAA,YAA+C;;MAAAA,iBAAI;MAEvEA,yEAA0D;MAEzDA,+EAQM;MACXA,iBAAM;;;MAlBoCA,eAA2B;MAA3BA,+DAA2B;MAInCA,eAAyB;MAAzBA,6CAAyB;MACnCA,eAA+C;MAA/CA,iFAA+C;MAE/DA,eAAiB;MAAjBA,sCAAiB;MAEiBA,eAAgB;MAAhBA,qCAAgB","names":["Validators","i0","QuestionReplyCardComponent","constructor","_formbuilder","replyUpdateForm","group","content","reply","required","toggleEdit","edit","onSubmit","ngOnInit","get","setValue","selectors","inputs","decls","vars","consts","template"],"sourceRoot":"","sources":["/Users/bhira/Desktop/Skole/5.semester/ITPE3200/DiscussionForum-Angular/DiscussionForum-Angular/ClientApp/src/app/shared/questionReplyCard.component.ts","/Users/bhira/Desktop/Skole/5.semester/ITPE3200/DiscussionForum-Angular/DiscussionForum-Angular/ClientApp/src/app/shared/questionReplyCard.component.html"],"sourcesContent":["import { Component, Input, OnInit } from \"@angular/core\"\nimport { FormGroup, FormControl, Validators, FormBuilder, ReactiveFormsModule } from \"@angular/forms\"\nimport { IReply } from \"../replies/reply\"\n\n@Component({\n  selector: \"app-question-reply-card-component\",\n  templateUrl: \"./questionReplyCard.component.html\",\n})\n\nexport class QuestionReplyCardComponent implements OnInit {\n  @Input() reply!: IReply;\n\n  constructor(private _formbuilder: FormBuilder) {\n\n    // Initializing the reply form with form controls and validation\n    this.replyUpdateForm = _formbuilder.group({\n      content: [this.reply && this.reply.content ? this.reply.content : '', Validators.required],\n    });\n  }\n\n  replyUpdateForm: FormGroup;\n\n  // Toggles the 'edit' property for the clicked reply\n  toggleEdit(reply: IReply) {\n    reply.edit = !reply.edit;\n   \n  }\n\n  onSubmit() {\n\n  }\n\n  ngOnInit(): void {\n    if (reply.edit) {\n      this.replyUpdateForm.get('content')?.setValue(reply.content);\n    }\n  }\n}\n","<div class=\"d-flex gap-4 w-100\">\n    <div class=\"user-img-container\">\n        <img class=\"img-fluid rounded-circle\" [src]=\"reply.user.imageUrl\" alt=\"User image\" />\n    </div>\n    <div class=\"w-100\">\n        <div>\n            <h6 class=\"fw-bolder m-0\">{{ reply.user.userName }}</h6>\n            <p class=\"mb-2\">{{ reply.created | date: 'dd-MM-yyyy HH:mm'  }}</p>\n        </div>\n        <p *ngIf=\"!reply.edit\" class=\"m-0\">{{ reply.content }}</p>\n\n         <form [formGroup]=\"replyUpdateForm\" *ngIf=\"reply.edit\" (ngSubmit)=\"onSubmit()\">\n            <div class=\"form-group mb-3\">\n                <textarea rows=\"3\" formControlName=\"content\" class=\"form-control py-1 px-2\"></textarea>\n            </div>\n            <div class=\"d-flex gap-3\">\n                <button type=\"submit\" [disabled]=\"replyUpdateForm.invalid\" class=\"btn btn-primary\">Update</button>\n                <a class=\"btn btn-secondary\" (click)=\"toggleEdit(reply)\">Cancel</a>\n            </div>\n        </form>\n    </div>\n</div>\n\n<style>\r\n    .user-img-container {\r\n        width: 50px;\r\n    }\n</style>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}