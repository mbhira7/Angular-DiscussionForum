{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../authentication/authentication.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nconst _c0 = function () {\n  return [\"/auth/register\"];\n};\nfunction NavMenuComponent_a_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"a\", 19);\n    i0.ɵɵtext(1, \"Register\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(1, _c0));\n  }\n}\nfunction NavMenuComponent_ng_template_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"Hi \", ctx_r2.loggedInUserName, \"!\");\n  }\n}\nconst _c1 = function () {\n  return [\"/auth/login\"];\n};\nfunction NavMenuComponent_a_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"a\", 20)(1, \"button\", 21);\n    i0.ɵɵtext(2, \"Log in\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(1, _c1));\n  }\n}\nfunction NavMenuComponent_ng_template_29_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"a\", 22)(1, \"button\", 23);\n    i0.ɵɵlistener(\"click\", function NavMenuComponent_ng_template_29_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.logout());\n    });\n    i0.ɵɵtext(2, \"Log out\");\n    i0.ɵɵelementEnd()();\n  }\n}\nconst _c2 = function () {\n  return [\"/\"];\n};\nconst _c3 = function () {\n  return [\"/questions\"];\n};\nconst _c4 = function () {\n  return [\"/userquestions\"];\n};\nconst _c5 = function () {\n  return [\"/create\"];\n};\nconst _c6 = function (a0) {\n  return {\n    \"text-uppercase\": a0\n  };\n};\nexport class NavMenuComponent {\n  constructor(_authService, _router) {\n    this._authService = _authService;\n    this._router = _router;\n  }\n  // Getter to check if the user is logged in\n  get loggedIn() {\n    return this._authService.isLoggedIn;\n  }\n  // Getter to retrieve the logged-in user's username\n  get loggedInUserName() {\n    return this._authService.loggedInUser;\n  }\n  // Calling the logout method from AuthService to log out user\n  logout() {\n    this._authService.logout().subscribe(response => {\n      if (response.success) {\n        this._authService.setLoggedIn(false);\n        this._authService.setLoggedInUser(\"\");\n        //Redirects to the home page\n        this._router.navigate(['/']);\n        console.log(response.message);\n      } else {\n        console.log(\"Logout failed\");\n      }\n    });\n  }\n}\nNavMenuComponent.ɵfac = function NavMenuComponent_Factory(t) {\n  return new (t || NavMenuComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.Router));\n};\nNavMenuComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: NavMenuComponent,\n  selectors: [[\"app-nav-menu\"]],\n  decls: 31,\n  vars: 15,\n  consts: [[1, \"navbar\", \"navbar-expand-lg\", \"navbar-dark\", \"py-2\", \"px-3\"], [1, \"container-fluid\", \"p-0\"], [1, \"navbar-brand\", \"m-0\", \"align-items-center\", \"d-flex\", \"gap-2\", 3, \"routerLink\"], [\"src\", \"../assets/img/logo.png\", \"alt\", \"Logo image\", 1, \"logo\"], [1, \"logoText\"], [\"type\", \"button\", \"data-bs-toggle\", \"collapse\", \"data-bs-target\", \"#navbarText\", \"aria-controls\", \"navbarText\", \"aria-expanded\", \"false\", \"aria-label\", \"Toggle navigation\", 1, \"navbar-toggler\"], [1, \"navbar-toggler-icon\"], [\"id\", \"navbarText\", 1, \"collapse\", \"navbar-collapse\"], [1, \"navbar-nav\", \"mx-auto\", \"gap-4\"], [1, \"nav-item\", \"text-uppercase\"], [1, \"hover-underline\", 3, \"routerLink\"], [1, \"loginBtn-container\"], [1, \"navbar-nav\", \"d-flex\", \"gap-3\"], [1, \"nav-item\", \"d-flex\", \"align-items-center\", 3, \"ngClass\"], [\"class\", \"hover-underline\", \"id\", \"register\", 3, \"routerLink\", 4, \"ngIf\", \"ngIfElse\"], [\"displayUserName\", \"\"], [1, \"nav-item\"], [\"id\", \"login\", 3, \"routerLink\", 4, \"ngIf\", \"ngIfElse\"], [\"logOutBtn\", \"\"], [\"id\", \"register\", 1, \"hover-underline\", 3, \"routerLink\"], [\"id\", \"login\", 3, \"routerLink\"], [1, \"text-uppercase\", \"loginBtn\"], [\"id\", \"logout\"], [1, \"text-uppercase\", \"logoutBtn\", 3, \"click\"]],\n  template: function NavMenuComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"header\")(1, \"nav\", 0)(2, \"div\", 1)(3, \"a\", 2);\n      i0.ɵɵelement(4, \"img\", 3);\n      i0.ɵɵelementStart(5, \"span\", 4)(6, \"strong\");\n      i0.ɵɵtext(7, \"CodeHub\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(8, \"button\", 5);\n      i0.ɵɵelement(9, \"span\", 6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"div\", 7)(11, \"ul\", 8)(12, \"li\", 9)(13, \"a\", 10);\n      i0.ɵɵtext(14, \"Browse questions\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(15, \"li\", 9)(16, \"a\", 10);\n      i0.ɵɵtext(17, \"My questions\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(18, \"li\", 9)(19, \"a\", 10);\n      i0.ɵɵtext(20, \"Post a question\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(21, \"div\", 11)(22, \"ul\", 12)(23, \"li\", 13);\n      i0.ɵɵtemplate(24, NavMenuComponent_a_24_Template, 2, 2, \"a\", 14);\n      i0.ɵɵtemplate(25, NavMenuComponent_ng_template_25_Template, 2, 1, \"ng-template\", null, 15, i0.ɵɵtemplateRefExtractor);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(27, \"li\", 16);\n      i0.ɵɵtemplate(28, NavMenuComponent_a_28_Template, 3, 2, \"a\", 17);\n      i0.ɵɵtemplate(29, NavMenuComponent_ng_template_29_Template, 3, 0, \"ng-template\", null, 18, i0.ɵɵtemplateRefExtractor);\n      i0.ɵɵelementEnd()()()()()()();\n    }\n    if (rf & 2) {\n      const _r1 = i0.ɵɵreference(26);\n      const _r4 = i0.ɵɵreference(30);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(9, _c2));\n      i0.ɵɵadvance(10);\n      i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(10, _c3));\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(11, _c4));\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(12, _c5));\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(13, _c6, !ctx.loggedInUserName));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", !ctx.loggedIn)(\"ngIfElse\", _r1);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngIf\", !ctx.loggedIn)(\"ngIfElse\", _r4);\n    }\n  },\n  dependencies: [i3.NgClass, i3.NgIf, i2.RouterLink],\n  styles: [\"a.navbar-brand[_ngcontent-%COMP%] {\\n        white-space: normal;\\n        text-align: center;\\n        word-break: break-all;\\n    }\\n\\n    .box-shadow[_ngcontent-%COMP%] {\\n        box-shadow: 0 .25rem .75rem rgba(0, 0, 0, .05);\\n    }\\n\\n    .logoutBtn[_ngcontent-%COMP%]:hover {\\n        color: #649ef4;\\n    }\"]\n});","map":{"version":3,"mappings":";;;;;;;;;IA0B4BA,6BAAmH;IAAAA,wBAAQ;IAAAA,iBAAI;;;IAA9CA,uDAAiC;;;;;IAG9GA,4BAAM;IAAAA,YAAwB;IAAAA,iBAAO;;;;IAA/BA,eAAwB;IAAxBA,0DAAwB;;;;;;;;IAKlCA,6BAA+E;IACnCA,sBAAM;IAAAA,iBAAS;;;IADXA,uDAA8B;;;;;;IAK1EA,6BAAe;IAC8BA;MAAAA;MAAA;MAAA,OAASA,8BAAQ;IAAA,EAAC;IAACA,uBAAO;IAAAA,iBAAS;;;;;;;;;;;;;;;;;;;;AC/BhH,OAAM,MAAOC,gBAAgB;EAE3BC,YAAoBC,YAAyB,EAAUC,OAAe;IAAlD,iBAAY,GAAZD,YAAY;IAAuB,YAAO,GAAPC,OAAO;EAAW;EAEzE;EACA,IAAIC,QAAQ;IACV,OAAO,IAAI,CAACF,YAAY,CAACG,UAAU;EACrC;EAEA;EACA,IAAIC,gBAAgB;IAClB,OAAO,IAAI,CAACJ,YAAY,CAACK,YAAY;EACvC;EAEA;EACAC,MAAM;IACJ,IAAI,CAACN,YAAY,CAACM,MAAM,EAAE,CACvBC,SAAS,CAACC,QAAQ,IAAG;MACpB,IAAIA,QAAQ,CAACC,OAAO,EAAE;QACpB,IAAI,CAACT,YAAY,CAACU,WAAW,CAAC,KAAK,CAAC;QACpC,IAAI,CAACV,YAAY,CAACW,eAAe,CAAC,EAAE,CAAC;QACrC;QACA,IAAI,CAACV,OAAO,CAACW,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC;QAC5BC,OAAO,CAACC,GAAG,CAACN,QAAQ,CAACO,OAAO,CAAC;OAC9B,MACI;QACHF,OAAO,CAACC,GAAG,CAAC,eAAe,CAAC;;IAEhC,CAAC,CAAC;EACN;;AA7BWhB,gBAAgB;mBAAhBA,gBAAgB;AAAA;AAAhBA,gBAAgB;QAAhBA,gBAAgB;EAAAkB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDT7BvB,8BAAQ;MAIQA,yBAAkE;MAClEA,+BAAuB;MAAQA,uBAAO;MAAAA,iBAAS;MAEnDA,iCAAoL;MAChLA,0BAAyC;MAC7CA,iBAAS;MACTA,+BAAsD;MAGeA,iCAAgB;MAAAA,iBAAI;MAEjFA,8BAAoC;MAC6BA,6BAAY;MAAAA,iBAAI;MAEjFA,8BAAoC;MACsBA,gCAAe;MAAAA,iBAAI;MAIjFA,gCAAgC;MAGpBA,gEAA+H;MAE/HA,qHAEc;MAClBA,iBAAK;MAELA,+BAAqB;MACjBA,gEAEI;MAEJA,qHAIc;MAClBA,iBAAK;;;;;MAxC2CA,eAAoB;MAApBA,uDAAoB;MAUzCA,gBAA6B;MAA7BA,wDAA6B;MAG7BA,eAAiC;MAAjCA,wDAAiC;MAGjCA,eAA0B;MAA1BA,wDAA0B;MAMNA,eAAiD;MAAjDA,4EAAiD;MACxFA,eAAiB;MAAjBA,oCAAiB;MAQjBA,eAAiB;MAAjBA,oCAAiB","names":["i0","NavMenuComponent","constructor","_authService","_router","loggedIn","isLoggedIn","loggedInUserName","loggedInUser","logout","subscribe","response","success","setLoggedIn","setLoggedInUser","navigate","console","log","message","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["/Users/bhira/Desktop/Skole/5.semester/ITPE3200/DiscussionForum-Angular/DiscussionForum-Angular/ClientApp/src/app/nav-menu/nav-menu.component.html","/Users/bhira/Desktop/Skole/5.semester/ITPE3200/DiscussionForum-Angular/DiscussionForum-Angular/ClientApp/src/app/nav-menu/nav-menu.component.ts"],"sourcesContent":["<header>\n    <nav class=\"navbar navbar-expand-lg navbar-dark py-2 px-3 \">\n        <div class=\"container-fluid p-0\">\n            <a class=\"navbar-brand m-0 align-items-center d-flex gap-2\" [routerLink]=\"['/']\">\n                <img class=\"logo\" src=\"../assets/img/logo.png\" alt=\"Logo image\" />\n                <span class=\"logoText\"><strong>CodeHub</strong></span>\n            </a>\n            <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarText\" aria-controls=\"navbarText\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n                <span class=\"navbar-toggler-icon\"></span>\n            </button>\n            <div class=\"collapse navbar-collapse\" id=\"navbarText\">\n                <ul class=\"navbar-nav mx-auto gap-4\">\n                    <li class=\"nav-item text-uppercase\">\n                        <a class=\"hover-underline\" [routerLink]=\"['/questions']\">Browse questions</a>\n                    </li>\n                    <li class=\"nav-item text-uppercase\">\n                        <a class=\"hover-underline\" [routerLink]=\"['/userquestions']\">My questions</a>\n                    </li>\n                    <li class=\"nav-item text-uppercase\">\n                        <a class=\"hover-underline\" [routerLink]=\"['/create']\">Post a question</a>\n                    </li>\n                </ul>\n\n                <div class=\"loginBtn-container\">\n                    <ul class=\"navbar-nav d-flex gap-3\">\n                        <li class=\"nav-item d-flex align-items-center\" [ngClass]=\"{'text-uppercase': !loggedInUserName}\">\n                            <a *ngIf=\"!loggedIn; else displayUserName\" class=\"hover-underline\" id=\"register\" [routerLink]=\"['/auth/register']\">Register</a>\n\n                            <ng-template #displayUserName>\n                                <span>Hi {{loggedInUserName}}!</span>\n                            </ng-template>\n                        </li>\n\n                        <li class=\"nav-item\">\n                            <a *ngIf=\"!loggedIn; else logOutBtn\" id=\"login\" [routerLink]=\"['/auth/login']\">\n                                <button class=\"text-uppercase loginBtn\">Log in</button>\n                            </a>\n\n                            <ng-template #logOutBtn>\n                                <a id=\"logout\">\n                                    <button class=\"text-uppercase logoutBtn\" (click)=\"logout()\">Log out</button>\n                                </a>\n                            </ng-template>\n                        </li>\n                    </ul>\n                </div>\n            </div>\n        </div>\n    </nav>\n</header>\n\n<style>\r\n    a.navbar-brand {\r\n        white-space: normal;\r\n        text-align: center;\r\n        word-break: break-all;\r\n    }\r\n\r\n    .box-shadow {\r\n        box-shadow: 0 .25rem .75rem rgba(0, 0, 0, .05);\r\n    }\n\n    .logoutBtn:hover {\n        color: #649ef4;\n    }\n</style>\n\n","import { Component, OnInit } from '@angular/core';\nimport { AuthService } from \"../authentication/authentication.service\"\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-nav-menu',\n  templateUrl: './nav-menu.component.html',\n})\n\nexport class NavMenuComponent {\n\n  constructor(private _authService: AuthService, private _router: Router) {}\n\n  // Getter to check if the user is logged in\n  get loggedIn() {\n    return this._authService.isLoggedIn;\n  }\n\n  // Getter to retrieve the logged-in user's username\n  get loggedInUserName() {\n    return this._authService.loggedInUser;\n  }\n\n  // Calling the logout method from AuthService to log out user\n  logout() {\n    this._authService.logout()\n      .subscribe(response => {\n        if (response.success) {\n          this._authService.setLoggedIn(false)\n          this._authService.setLoggedInUser(\"\")\n          //Redirects to the home page\n          this._router.navigate(['/']);\n          console.log(response.message)\n        }\n        else {\n          console.log(\"Logout failed\")\n        }\n      })\n  }\n}\n\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}